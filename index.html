<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3D Shirt Configurator</title>
  </head>

  <body>
    <div id="app" class="app">
      <header class="topbar">
        <div class="brand">
          <div class="logo"></div>
          <div class="title">
            <div class="h1">3D Shirt Editor</div>
            <div class="h2">UV Print Configurator</div>
          </div>
        </div>

        <div class="actions">
          <button class="iconBtn" id="btnHelp" type="button" aria-label="Help">?</button>
          <button class="iconBtn" id="btnSettings" type="button" aria-label="Settings">⚙</button>

          <label class="switch" title="UI toggle (optional)">
            <input type="checkbox" id="toggleSnapHint" />
            <span class="slider"></span>
          </label>
        </div>
      </header>

      <main class="content">
        <!-- Left: 2D -->
        <section class="panel card" id="leftPanel">
          <div class="cardHeader">
            <div class="cardTitle">2D Design Placement</div>
            <div class="chip" id="zoneLabel">Print Zone: 30 × 40 cm</div>
            <div class="spacer"></div>
            <div class="toolbar">
              <button class="toolBtn" id="btnZoomOut" type="button">−</button>
              <button class="toolBtn" id="btnFit" type="button">⤢</button>
              <button class="toolBtn" id="btnZoomIn" type="button">+</button>
            </div>
          </div>

          <div class="cardBody">
            <div class="canvasShell" id="artViewport">
              <canvas id="artCanvas"></canvas>

              <!-- ✅ overlayBox-оо 2D дээр байлга (3D-г өнгөөр таглахгүй) -->
              <div id="overlayBox" class="overlayBox">
                <div class="handle tl"></div>
                <div class="handle tr"></div>
                <div class="handle bl"></div>
                <div class="handle br"></div>
              </div>
            </div>

            <pre class="hud" id="hud"></pre>
          </div>
        </section>

        <!-- Right: 3D -->
        <section class="panel card" id="rightPanel">
          <div class="cardHeader">
            <div class="cardTitle">3D Preview</div>
            <div class="spacer"></div>
            <div class="pill" id="modePill">EDIT</div>
          </div>

          <div class="cardBody">
            <div class="viewerShell" id="viewer3d"></div>
          </div>
        </section>

        <!-- Tools -->
        <aside class="tools card" id="toolsPanel">
          <div class="cardHeader">
            <div class="cardTitle">Placement Tools</div>
            <div class="spacer"></div>
            <div class="chip">Shift = Snap OFF</div>
          </div>

          <div class="cardBody">
            <div class="fieldRow">
              <label class="check">
                <input type="checkbox" id="chkSnapCenter" checked />
                <span>Snap center</span>
              </label>

              <label class="check">
                <input type="checkbox" id="chkSnapGrid" />
                <span>Snap grid</span>
              </label>

              <div class="miniInput">
                <span>cm</span>
                <input id="gridCm" type="number" value="1" min="0" step="0.5" />
              </div>
            </div>

            <div class="divider"></div>

            <div class="fieldRow">
              <label class="label">Width (cm)</label>
              <input id="inpWidthCm" type="number" value="24.7" step="0.1" />
              <button class="btn" id="btnApplyCm" type="button">Apply</button>
            </div>

            <p class="hint">
              Tip: Drag corner handles to resize. Wheel = scale (edit mode). R = rotate.
            </p>

            <div class="divider"></div>

            <div class="sectionTitle">Artwork</div>
            <div class="fieldRow">
              <input id="file" type="file" accept="image/*" />
            </div>

            <div class="fieldCol">
              <button class="btn ghost" id="btnEdit" type="button">Edit in 2D</button>
              <button class="btn primary" id="btnSubmit" type="button">Submit (Lock)</button>
              <button class="btn primary2" id="btnExport" type="button">Export PNG + JSON</button>
            </div>
          </div>
        </aside>
      </main>
    </div>

    <!-- ✅ Vite entry -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
